\documentclass[11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{enumerate}
\usepackage{float}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage[hidelinks]{hyperref}
\usepackage[vmargin=2.3cm,hmargin=2.3cm]{geometry}
\usepackage{sectsty}
\sectionfont{\fontsize{12}{15}\selectfont}
\usepackage{tikz}
\usepackage{qtree}


\title{MODELOS DE COMPUTACIÓN \\ Práctica 5: Gramáticas libres de contexto. }


\author{Elena María Gómez Ríos}


\begin{document}
\maketitle


\section{Demuestra que la siguiente gramática libre de contexto es ambigua.}

\begin{table}[H]
\centering
\label{my-label}
\begin{tabular}{ll}
$S \rightarrow S_1 S_2$ 	&  \hspace{2cm} $S \rightarrow S_4 S_5$ \\
$S_1 \rightarrow a S_1 b \mid \varepsilon $ 	& \hspace{2cm} $S_4 \rightarrow a S_4  \mid S_6 $ \\
$S_2 \rightarrow c S_2 \mid S_3 $ 	& \hspace{2cm} $S_6 \rightarrow b S_6 \mid \varepsilon $\\
$S_3 \rightarrow d S_3 \mid \varepsilon $ 	& \hspace{2cm}  $S_5 \rightarrow c S_5 d \mid \varepsilon $
\end{tabular}
\end{table}

\textbf{Solución:}\\

Podemos comprobar que la gramática es ambigua puesto que podemos formar dos arboles distintos para una misma palabra. Por ejemplo la palabra $abcd$:

\begin{table}[H]
\centering
\label{my-label}
\begin{tabular}{ll}
 \Tree[.S [.S_1 [.a ]
					[.S_1 [.$\varepsilon$ ]]
               [.b ]]
          [.S_2 [.c ]
                [.S_2 [.S_3 [.d ]
                           [.S_3 [.$\varepsilon$ ]]]]]] &  
\Tree[.S [.S_4 [.a ]
					  [.S_4 [.S_6 [[.b ][.S_6 [.$\varepsilon$ ]]]]]]
             [.S_5 [.c ]
                	  [.S_5 [.$\varepsilon$ ]]
                   [.d ]]] 
\end{tabular}
\end{table}

\subsection*{a) Determina el lenguaje que genera esta gramática.}

 El lenguaje que genera esta gramática es:\\
 
$$L = \{ a^ib^ic^jd^k : i,j,k \geq 0\}\cup \{ a^ib^jc^kd^k : i,j,k \geq 0\}$$


                                             
\subsection*{b) Encuentra una gramática no ambigua que genere el lenguaje.}

\begin{tabular}{l|l|l}
	$S\rightarrow S_1S_2$ \hspace{0.3cm} & \hspace{0.5cm} $S\rightarrow S_5S_6$ \hspace{0.3cm} & \hspace{0.5cm} $S\rightarrow S_9S_{10}$ \\
	$S_1\rightarrow aS_1b | \varepsilon$ \hspace{0.3cm} & \hspace{0.5cm} $S_5\rightarrow aS_5b | S_7 | S_8$ \hspace{0.3cm} & \hspace{0.5cm} $S_9\rightarrow aS_9b | \varepsilon$ \\
	$S_2\rightarrow cS_2d | S_3 | S_4$ \hspace{0.3cm} & \hspace{0.5cm} $S_6\rightarrow cS_6d|\varepsilon$ \hspace{0.3cm} & \hspace{0.5cm} $S_{10}\rightarrow cS_{10}d | \varepsilon$\\
	$S_3\rightarrow cS_3 | c$ \hspace{0.3cm} & \hspace{0.5cm} $S_7\rightarrow aS_7 | a$ \hspace{0.3cm} & \\ 
	$S_4\rightarrow dS_4 | d$ \hspace{0.3cm} & \hspace{0.5cm} $S_8\rightarrow bS_8 | b$ \hspace{0.3cm} & \\
	\end{tabular} 


\section{Dada la gramática:}


$S \rightarrow 01S$, $S \rightarrow 010S$, $S \rightarrow 101S$, $S \rightarrow \varepsilon$

\subsection*{a) Determina si es ambigua.}

La gramática es ambigua puesto que podemos representar con dos árboles distintos la palabra $010101$:\\\\

\begin{table}[H]
\centering
\label{my-label}
\begin{tabular}{ll}
 \Tree [.S 0 1 [.S 0 1 [.S 0 1 [.$\varepsilon$ ] ] ] ] & 
 \Tree [.S 0 1 0 [.S 1 0 1 $\varepsilon$ ] ] 
\end{tabular}
\end{table}
	

\subsection*{b) ¿Eres capaz de encontrar una gramática regular que genere este lenguaje y que sea no ambigua?.}

Representamos la gramática con un autómata finito no determinista: 

\begin{center}
\begin{tikzpicture}[scale=0.2]
\tikzstyle{every node}+=[inner sep=0pt]
\draw [black] (10.2,-17.5) circle (3);
\draw (10.2,-17.5) node {$A$};
\draw [black] (10.2,-17.5) circle (2.4);
\draw [black] (24.6,-17.5) circle (3);
\draw (24.6,-17.5) node {$B$};
\draw [black] (16.8,-6.6) circle (3);
\draw (16.8,-6.6) node {$C$};
\draw [black] (10.2,-28.8) circle (3);
\draw (10.2,-28.8) node {$D$};
\draw [black] (22.9,-28.8) circle (3);
\draw (22.9,-28.8) node {$E$};
\draw [black] (2.4,-17.5) -- (7.2,-17.5);
\fill [black] (7.2,-17.5) -- (6.4,-17) -- (6.4,-18);
\draw [black] (21.913,-18.821) arc (-70.25686:-109.74314:13.361);
\fill [black] (21.91,-18.82) -- (20.99,-18.62) -- (21.33,-19.56);
\draw (17.4,-20.11) node [below] {$0$};
\draw [black] (12.83,-16.071) arc (111.59538:68.40462:12.418);
\fill [black] (12.83,-16.07) -- (13.76,-16.24) -- (13.39,-15.31);
\draw (17.4,-14.7) node [above] {$1$};
\draw [black] (22.85,-15.06) -- (18.55,-9.04);
\fill [black] (18.55,-9.04) -- (18.6,-9.98) -- (19.42,-9.4);
\draw (21.29,-10.68) node [right] {$1$};
\draw [black] (15.25,-9.17) -- (11.75,-14.93);
\fill [black] (11.75,-14.93) -- (12.6,-14.51) -- (11.74,-13.99);
\draw (12.86,-10.78) node [left] {$0$};
\draw [black] (10.2,-20.5) -- (10.2,-25.8);
\fill [black] (10.2,-25.8) -- (10.7,-25) -- (9.7,-25);
\draw (9.7,-23.15) node [left] {$1$};
\draw [black] (13.2,-28.8) -- (19.9,-28.8);
\fill [black] (19.9,-28.8) -- (19.1,-28.3) -- (19.1,-29.3);
\draw (16.55,-29.3) node [below] {$0$};
\draw [black] (20.66,-26.81) -- (12.44,-19.49);
\fill [black] (12.44,-19.49) -- (12.71,-20.4) -- (13.37,-19.65);
\draw (15.54,-23.64) node [below] {$1$};
\end{tikzpicture}
\end{center}

Luego lo convertimos en un autómata finito determinista y obtenemos su gramática:

\begin{center}
\begin{tikzpicture}[scale=0.2]
\tikzstyle{every node}+=[inner sep=0pt]
\draw [black] (9.4,-19.2) circle (3);
\draw (9.4,-19.2) node {$q_0$};
\draw [black] (9.4,-19.2) circle (2.4);
\draw [black] (22.3,-19.2) circle (3);
\draw (22.3,-19.2) node {$q_1$};
\draw [black] (9.4,-34.8) circle (3);
\draw (9.4,-34.8) node {$q_2$};
\draw [black] (22.3,-8.4) circle (3);
\draw (22.3,-8.4) node {$q_3$};
\draw [black] (49.8,-19.2) circle (3);
\draw (49.8,-19.2) node {$E$};
\draw [black] (17.1,-27.4) circle (3);
\draw (17.1,-27.4) node {$q_4$};
\draw [black] (17.1,-27.4) circle (2.4);
\draw [black] (23.8,-35.4) circle (3);
\draw (23.8,-35.4) node {$q_5$};
\draw [black] (23.8,-35.4) circle (2.4);
\draw [black] (31.6,-29.2) circle (3);
\draw (31.6,-29.2) node {$q_6$};
\draw [black] (31.6,-29.2) circle (2.4);
\draw [black] (43.5,-29.2) circle (3);
\draw (43.5,-29.2) node {$q_7$};
\draw [black] (1.9,-19.2) -- (6.4,-19.2);
\fill [black] (6.4,-19.2) -- (5.6,-18.7) -- (5.6,-19.7);
\draw [black] (12.4,-19.2) -- (19.3,-19.2);
\fill [black] (19.3,-19.2) -- (18.5,-18.7) -- (18.5,-19.7);
\draw (15.85,-19.7) node [below] {$1$};
\draw [black] (9.4,-22.2) -- (9.4,-31.8);
\fill [black] (9.4,-31.8) -- (9.9,-31) -- (8.9,-31);
\draw (8.9,-27) node [left] {$0$};
\draw [black] (22.3,-16.2) -- (22.3,-11.4);
\fill [black] (22.3,-11.4) -- (21.8,-12.2) -- (22.8,-12.2);
\draw (22.8,-13.8) node [right] {$0$};
\draw [black] (25.3,-19.2) -- (46.8,-19.2);
\fill [black] (46.8,-19.2) -- (46,-18.7) -- (46,-19.7);
\draw (36.05,-19.7) node [below] {$1$};
\draw [black] (25.09,-9.5) -- (47.01,-18.1);
\fill [black] (47.01,-18.1) -- (46.45,-17.35) -- (46.08,-18.28);
\draw (35.1,-14.32) node [below] {$0$};
\draw [black] (20,-10.33) -- (11.7,-17.27);
\fill [black] (11.7,-17.27) -- (12.63,-17.14) -- (11.99,-16.38);
\draw (14.84,-13.31) node [above] {$1$};
\draw [black] (11.56,-32.72) -- (14.94,-29.48);
\fill [black] (14.94,-29.48) -- (14.01,-29.67) -- (14.71,-30.39);
\draw (14.27,-31.58) node [below] {$1$};
\draw [black] (49.866,-22.197) arc (-2.55932:-135.21368:22.531);
\fill [black] (49.87,-22.2) -- (49.33,-22.97) -- (50.33,-23.02);
\draw (36.42,-42.73) node [below] {$0$};
\draw [black] (19.03,-29.7) -- (21.87,-33.1);
\fill [black] (21.87,-33.1) -- (21.74,-32.17) -- (20.98,-32.81);
\draw (19.9,-32.84) node [left] {$0$};
\draw [black] (18.71,-24.87) -- (20.69,-21.73);
\fill [black] (20.69,-21.73) -- (19.84,-22.14) -- (20.69,-22.68);
\draw (20.33,-24.6) node [right] {$1$};
\draw [black] (20.8,-35.28) -- (12.4,-34.92);
\fill [black] (12.4,-34.92) -- (13.18,-35.46) -- (13.22,-34.46);
\draw (16.56,-35.64) node [below] {$0$};
\draw [black] (26.15,-33.53) -- (29.25,-31.07);
\fill [black] (29.25,-31.07) -- (28.31,-31.17) -- (28.94,-31.96);
\draw (28.71,-32.79) node [below] {$1$};
\draw [black] (29.56,-27) -- (24.34,-21.4);
\fill [black] (24.34,-21.4) -- (24.52,-22.32) -- (25.25,-21.64);
\draw (27.48,-22.74) node [right] {$1$};
\draw [black] (40.799,-30.483) arc (-72.54022:-107.45978:10.827);
\fill [black] (40.8,-30.48) -- (39.89,-30.25) -- (40.19,-31.2);
\draw (37.55,-31.48) node [below] {$0$};
\draw [black] (40.5,-29.2) -- (34.6,-29.2);
\fill [black] (34.6,-29.2) -- (35.4,-29.7) -- (35.4,-28.7);
\draw (37.55,-28.7) node [above] {$1$};
\draw [black] (42.089,-31.845) arc (-32.23506:-129.11287:20.659);
\fill [black] (11.58,-36.85) -- (11.89,-37.75) -- (12.52,-36.97);
\draw (28.39,-41.8) node [below] {$0$};
\end{tikzpicture}
\end{center}

Por lo tanto la gramática regular no ambigua es:

\begin{table}[H]
\label{my-label}
\begin{tabular}{l}
 $S\rightarrow 0S_1 \mid 1S_2 \mid \varepsilon$\\
 $S_1 \rightarrow 1S_3$\\
 $S_2\rightarrow 0S_7$\\
 $S_3\rightarrow 0S_4 \mid| 1S_2 \mid \varepsilon$\\
 $S_4\rightarrow 0S_1 \mid 1S_5 \mid \varepsilon$ \\
 $S_5\rightarrow 0S_6 \mid 1S_2 \mid \varepsilon $\\
 $S_6\rightarrow 0S_1 \mid 1S_5 \mid \varepsilon$\\
 $S_7\rightarrow 1S$
\end{tabular}
\end{table}



\section{Determinar cuáles de las siguientes gramáticas son ambiguas y, en su caso, comprobar si los lenguajes generados son inherentemente ambiguos:}

\subsection*{a) $ S \rightarrow a S b \mid S b \mid a S \mid a $}

La gramática es ambigua puesto que podemos representar con dos árboles distintos la palabra $aab$:\\\\

\begin{table}[H]
\centering
\label{my-label}
\begin{tabular}{ll}
 \Tree [.S a [.S a ]b ] & \hspace{1cm}
 \Tree [.S a [.S [.S a ]b ]]
\end{tabular}
\end{table}

El lenguaje generado por la gramática es:
$L = \{a^ib^j  \mid i \geq 1, j \geq 0  \}$

El lenguaje no es inherentemente ambiguo ya que se puede expresar con la siguiente gramática no ambigua:

\begin{table}[H]
\label{my-label}
\begin{tabular}{l}
$S \rightarrow a S_1$ \\
$S_1 \rightarrow a S_1 \mid S_1 b \mid \varepsilon$

\end{tabular}
\end{table}

\subsection*{b) $ S \rightarrow aaS \mid aaaS \mid a $ }

La gramática es ambigua puesto que podemos representar con dos árboles distintos la palabra $aaaaaaa$:\\\\

\begin{table}[H]
\centering
\label{my-label}
\begin{tabular}{ll}
 \Tree [.S a a [.S a a [.S a a [.S a ]]]] & \hspace{1cm}
 \Tree [.S a a a [.S a a a [.S a ]]]
\end{tabular}
\end{table}

El lenguaje generado por la gramática es:
$L = \{a^i  \mid i \in \mathbb{N} \setminus 2  \}$

El lenguaje no es inherentemente ambiguo ya que se puede expresar con la siguiente gramática no ambigua:

\begin{table}[H]
\label{my-label}
\begin{tabular}{l}
$S \rightarrow a S_1$ \\
$S_1 \rightarrow a S_2 \mid  \varepsilon$ \\
$S_2 \rightarrow a S_2 \mid  a$

\end{tabular}
\end{table}

\subsection*{c) $ S \rightarrow aS \mid aSb \mid X $\\
 $X \rightarrow Xa \mid a$}
 
 
 La gramática es ambigua puesto que podemos representar con dos árboles distintos la palabra $aa$:\\\\

\begin{table}[H]
\centering
\label{my-label}
\begin{tabular}{ll}
 \Tree [.S a [.S [.X a ]]] & \hspace{1cm}
 \Tree [.S [.X [.X a ]a ]]
\end{tabular}
\end{table}

El lenguaje generado por la gramática es:
$L = \{a^ib^j  \mid i \geq 1; j \geq 0; i > j  \}$

El lenguaje no es inherentemente ambiguo ya que se puede expresar con la siguiente gramática no ambigua:

\begin{table}[H]
\label{my-label}
\begin{tabular}{l}
$S \rightarrow a S_1$ \\
$S_1 \rightarrow a S_1 \mid a S_1 b \mid \varepsilon$ 

\end{tabular}
\end{table}

\section{Pasa a Forma Normal de Chomsky la siguiente gramática libre de contexto:}

$ S \rightarrow A \mid BCa \mid aDcd \mid EDF $ \\
$ A \rightarrow aAb \mid c $ \\
$ B \rightarrow CD \mid ECd \mid Ad \mid \varepsilon $  \\
$ C \rightarrow Cc \mid Bb \mid AaE \mid c $ \\
$ D \rightarrow aDd \mid Dd \mid \varepsilon $ \\
$ E \rightarrow aaEB \mid EFG $ \\
$ F \rightarrow aFd \mid d $ \\


En primer lugar buscamos las producciones inútiles, para ello buscamos las producciones con símbolos terminales. \\
$V_t=\{\emptyset\}, V_t=\{A,B,C,D,F\}, V_t=\{S,A,B,C,D,F\}$ \\

Eliminamos las producciones de $E$: \\
$S \rightarrow A \mid BCa \mid aDcd$ \\
$A \rightarrow aAb \mid c$ \\
$B \rightarrow CD \mid Ad \mid \varepsilon$ \\
$C \rightarrow Cc \mid Bb \mid c$ \\
$D \rightarrow aDd \mid Dd \mid \varepsilon$ \\
$F \rightarrow aFd \mid d$ \\

Ahora eliminamos los estados con símbolos inaccesibles:\\
$J=\{S\}, V_s=\{S\}, T_s=\{\emptyset\}$\\
$J=\{A,B,C,D\}, V_s=\{S,A,B,C,D\}, T_s=\{a,c,d\}$\\
$J=\{B,C,D\}, V_s=\{S,A,B,C,D\}, T_s=\{a,b,c,d\}$\\
$J=\{C,D\}, V_s=\{S,A,B,C,D\}, T_s=\{a,b,c,d,\varepsilon\}$\\
$J=\{D\}, V_s=\{S,A,B,C,D\}, T_s=\{a,b,c,d,\varepsilon\}$\\
$J=\{\emptyset\}, V_s=\{S,A,B,C,D\}, T_s=\{a,b,c,d,\varepsilon\}$\\

Por lo que podemos eliminar la producción $F$:\\
$S \rightarrow A \mid BCa \mid aDcd$\\
$A \rightarrow aAb \mid c$\\
$B \rightarrow CD \mid Ad | \varepsilon$\\
$C \rightarrow Cc \mid Bb \mid c$\\
$D \rightarrow aDd \mid Dd \mid \varepsilon$\\

Ahora eliminamos las producciones nulas:\\
$H=\{\emptyset\}, H=\{BD\}, H=\{BD\}$\\

Por lo que obtenemos:\\
$S \rightarrow A \mid BCa \mid Ca \mid aDcd \mid acd$\\
$A \rightarrow aAb \mid c$\\
$B \rightarrow CD \mid C \mid Ad$\\
$C \rightarrow Cc \mid Bb \mid b \mid c$\\
$D \rightarrow aDd \mid ad \mid Dd \mid d$ \\

Ahora eliminamos las producciones unitarias:\\
$S \rightarrow aAb \mid c \mid BCa \mid Ca \mid aDcd \mid acd$\\
$A \rightarrow aAb \mid c$\\
$B \rightarrow CD \mid Cc \mid S_2b \mid b \mid c \mid Ad$\\
$C \rightarrow Cc \mid Bb \mid b \mid c$\\
$D \rightarrow aDd \mid ad \mid Dd \mid d$\\

Finalmente lo ajustamos para ponerlo en la \textbf{Forma Normal de Chomsky}:\\
$C_a \rightarrow a\;\;\; C_b\rightarrow b\;\;\; C_c\rightarrow c\;\;\; C_d\rightarrow d$\\
$S \rightarrow C_aD_1 \mid c \mid BD_2 \mid CC_a \mid C_aD_3 \mid C_aD_4$\\
$D_1 \rightarrow AC_b\;\;\; D_2\rightarrow DD_5\;\;\; D_3\rightarrow CC_a\;\;\; D_4\rightarrow C_cC_d\;\;\; D_5\rightarrow C_cC_d$\\
$A \rightarrow C_aF_1 \mid c$\\
$F_1 \rightarrow AC_d$\\
$B \rightarrow CD \mid CC_c \mid BC_b \mid b \mid c \mid AC_d$\\
$C \rightarrow CC_c \mid BC_b \mid C_b \mid C_c$\\
$D \rightarrow C_aJ_1 \mid C_aC_d \mid DC_d \mid d$\\
$J_1 \rightarrow DC_d$\\

\end{document}